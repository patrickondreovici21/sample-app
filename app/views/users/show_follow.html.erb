<% provide(:title, @title) %>

<div class="flex flex-col md:flex-row gap-6 pt-6">
  <aside class="w-full md:w-1/3 space-y-6">
    <section class="bg-white p-6 rounded-2xl shadow">
      <div class="flex flex-col items-center text-center">
        <%= gravatar_for @user %>
        <h1 class="mt-4 text-2xl font-semibold text-gray-800"><%= @user.name %></h1>
        <span class="text-sm text-blue-600 hover:underline">
          <%= link_to "View my profile", @user %>
        </span>
        <span class="mt-2 text-sm text-gray-600">
          <strong>Microposts:</strong> <%= @user.microposts.count %>
        </span>
      </div>
    </section>

    <!-- Stats -->
    <section class="bg-white p-6 rounded-2xl shadow">
      <%= render 'shared/stats' %>
    </section>
  </aside>

  <!-- Main content -->
  <div class="w-full md:w-2/3">
    <h3 class="text-xl font-bold text-gray-800 mb-4"><%= @title %></h3>

    <% if @users.any? %>
      <ul class="space-y-4">
        <% @users.each do |user| %>
          <li class="flex items-center justify-between p-4 bg-white shadow rounded-lg hover:bg-gray-50 transition">
            <div class="flex items-center">
              <div class="mr-4">
                <%= gravatar_for user %>
              </div>
              <%= link_to user.name, user, class: "text-lg font-medium text-blue-600 hover:underline" %>
            </div>
          </li>
        <% end %>
      </ul>

      <div class="flex justify-center mt-6 space-x-1">
          <%== pagy_nav(@pagy) %>
      </div>
    <% else %>
      <p class="text-gray-500 italic">No users found.</p>
    <% end %>
  </div>
</div>
